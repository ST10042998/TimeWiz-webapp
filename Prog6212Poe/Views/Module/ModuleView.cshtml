@model Prog6212Poe.Models.ModuleViewModel
@{
    ViewData["Title"] = "Add Module";
}
<style>
    body {
        background-color: azure;
    }
</style>

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Module</title>
    <style>
        /* Add your styles here */
    </style>
</head>
<body style="font-family: Arial;">

    
    <div style="width: 690px; height: 450px; margin: -4px 0 0 0; position: relative;">

        <label style="color: DarkCyan; font-size: 25px; font-weight: bold; margin: 10px 0 0 0; text-align: right; width: 188px;">ADD DETAILS</label>
        <form asp-controller="Module" asp-action="SaveSemester" method="post">
        <!-- Semester number-->
        <div style="margin: 20px 0 0 38px;">
            <label>Semester Number :</label>
            <input asp-for="Semester.SemesterNum" type=" text"  style="margin:auto" display: block;" />
        </div>

        <!-- Number of weeks in semester-->
        <div style="margin: 15px 0 0 38px;">
            <!-- Adjusted margin to provide space between inputs -->
            <label>Number of weeks in semester :</label>
            <input asp-for="Semester.NumOfWeeks" type=" text" style="margin:auto" display: block; />
        </div>

        <!-- Start date for Semester -->
        <div style="margin: 15px 0 0 38px;">
            <!-- Adjusted margin to provide space between inputs -->
            <label>Start date of first week:</label>
            <input asp-for="Semester.StartDate" type="date" style="margin:auto;" display: block;" />
        </div>

     
        <!-- button to save semester-->
        <button type="submit" name="btnSaveSemester" style="margin: 30px 0 0 200px; width: 138px; background-color: #B5FF6F; display: block;">
            Add Semester
        </button>
        </form>


        <form asp-controller="Module" asp-action="SaveModule" method="post" id="moduleForm">
        <!-- Module Name-->
        <div style="margin: 20px 0 0 38px;">
            <label>Module name :</label>
                <input asp-for="Module.Name" id="Module_Name" style="margin:auto" />
        </div>

        <!-- Module Code-->
        <div style="margin: 15px 0 0 38px;">
            <label>Module Code :</label>
                <input asp-for="Module.Code" id="Module_Code" style="margin:auto" />
        </div>

        <!-- Number of Credits -->
        <div style="margin: 15px 0 0 38px;">
            <label>Number of Credits :</label>
                <input asp-for="Module.Credits" id="Module_Credits" style="margin:auto" />
        </div>

        <!-- Class hours per week -->
        <div style="margin: 15px 0 0 0">
            <label>Class hours per week :</label>
                <input asp-for="Module.ClassHoursPerWeek" id="Module_ClassHoursPerWeek" style="margin:auto" />
        </div>


            <button type="submit" onclick="savebtn()" name="btnSaveModule" style="margin: 15px 0 0 200px; width: 134px; background-color: #B5FF6F; box-shadow: 0 0 10px rgba(12, 255, 0, 0.35);">
                    Add Module
                </button>
                <a>@ViewBag.Error</a>

          
            <a> @ViewBag.Message</a>
            
     </form>
       
        <div style="margin: 15px 0 0 15px">
           
            <!-- button to cancel-->
            <button type="submit" name="btnCancelSave" style="margin: 0 0 0 150px; width: 80px; background-color: #FF987A; box-shadow: 0 0 15px rgba(255, 0, 0, 0.45);" onclick="CancelBtn_Click()">
                Cancel
            </button>
            <button type="submit" onclick="done()"  name="btnDone" style="margin: 0 0 0 15px; width: 80px; background-color: #B5FF6F; box-shadow: 0 0 15px rgba(12, 255, 0, 0.45);">
                Done
            </button>
        </div>

    

        <label style="margin: 415px 0 0 146px; width: 293px; height: 25px;"></label>

        <label style="margin: 272px 0 0 377px; color: Red; width: 325px; height: 26px;"></label>

        <label style="margin: 48px 0 0 353px; color: Red; width: 325px; height: 26px;"></label>


    </div>
    
</body>
</html>
<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>

<script>
    // Check if the message contains "not added" and show an alert
    $(document).ready(function () {
        var message = '@ViewBag.Message';
        if (message.includes("not added")) {
            alert('Data not saved due to invalid input. Please check your values.');
        }
    });

    function CancelBtn_Click() {
        window.location.href = "/Home/Index";
    }

    function done() {
        window.location.href = "/Dashboard/DashboardView";
    }

    function savebtn() {
        // Use double quotes around the attribute value in the if statement
        var message2 = '@ViewBag.Message2';

        if (message2.includes("True")) 
        {
            document.getElementById("Module_Name").value = "";
            document.getElementById("Module_Code").value = "";
            document.getElementById("Module_Credits").value = "";
            document.getElementById("Module_ClassHoursPerWeek").value = "";

            alert("Module clear");
        } 
        else 
        {
            
        }
    }

    function clearForm() {
        document.getElementById("Module_Name").value = "";
        document.getElementById("Module_Code").value = "";
        document.getElementById("Module_Credits").value = "";
        document.getElementById("Module_ClassHoursPerWeek").value = "";

        alert("Module clear");
    }
</script>
